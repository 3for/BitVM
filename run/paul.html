<script type="module">
	import { connect } from '../server/socket.js'
	import {
		protocol, 
		MSG_TYPE_HAND,
		USER_PAUL,
		USER_VICKY
	} from './protocol.js'

	const socket = await connect(USER_PAUL)

	socket.onmessage = (clientId, msg) => {
		switch(msg.type){

			default:
				protocol(socket, clientId, msg)
		}
	}

	socket.sendTo(USER_VICKY, { type: MSG_TYPE_HAND })

</script>